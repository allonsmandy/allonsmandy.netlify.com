---
title: Regexp
description: Aprendendo a utilizar com javascript
date: '2020-07-09 11:20:57'
image: assets/img/1200px-Unofficial_JavaScript_logo_2.svg.png
category: js
background: '#D6BA32'
---
Olá! (◠‿◠✿)

Este é um post que irá conter uma explicação do básico ao avançado sobre Regex, conhecido também como Expressões Regulares.

Para fazermos a seleção e validar nossa regex, iremos utilizar este site: <https://regexr.com/>. O mesmo código que iramos utilizar neste site para testar será o mesmo que iremos usar no nosso javascript!

#### O que é Regular Expression?

Regexp ou Regex são expressões utilizadas para realizarmos buscas / substituições de padrões em strings. Os padrões devem ser colocados entre //. Geralmente vamos utilizá-las nos métodos .replace() e .split()

```javascript
const frase = 'JavaScript'
const regexp = /a/
const novaFrase = frase.replace(regexp, 'b')
// JbvaScript
```

> Praticamente todas as linguagens possuem uma implementação de regexp

#### Iniciando nossas buscas...

Entre naquele site e adicione algum trecho para começarmos os testes. O que coloquei foi este daqui:

> Dizem que no início os anões foram feitos por Aulë na escuridão da Terra-média. Pois, tão grande era o desejo de Aulë pela vinda dos Filhos, para ter aprendizes a quem ensinar suas habilidades e seus conhecimentos, que não se dispôs a aguardar a realização dos desígnios de Ilúvatar. E Aulë criou os anões, exatamente como ainda são, porque as formas dos Filhos que estavam por vir não estavam nítidas em sua mente e, como o poder de Melkor ainda dominasse a Terra, desejou que eles fossem fortes e obstinados. Temendo, porém, que os outros Vallar pudessem condenar sua obra, trabalhou em segredo e fez em primeiro lugar os Sete Pais dos Anões num palácio sob as montanhas na Terra-média.

![](assets/img/Captura de tela de 2020-07-09 23-36-45.png)

É na barra de Expression onde você digitará suas expressões pelo o que você deseja procurar. Note neste exemplo abaixo que eu digitei a palavra Terra

![](assets/img/Captura de tela de 2020-07-09 23-40-45.png)

Ele selecionou todas as palavras do meu trecho que continham Terra. Só que na verdade ele não está selecionando a palavra Terra em si, ele tá selecionando um T maiusculo, que seguido dele tenha exatamente a letra a, depois r, r de novo e a letra a novamente. Um item seguido do outro!

##### Literal

Utilizar um caracter literal irá realizar uma busca especifica deste caracter

```javascript
// Procura: J seguido de a, v e a
const regexp = /Java/

'JavaScript'.replace(regexp, 'Type')
// TypeScript
```

##### Flag: g

Lembra na imagem do primeiro exemplo que ele me retornou todas as seleções que continham Terra? Então, isso aconteceu porque se você ver novamente, há uma flag g depois do do regexp.

As flags irão modificar como a expressão é interpretada. Uma das mais utilizadas é a g, que significa global, ou seja, retorna todos os resultados que estiverem dentro do padrão e não apenas o primeiro. A flag deve ser colocada no final da expressão

```javascript
// Procura: Toda letra a
const regexp = /a/g

'JavaScript'.replace(regexp, 'i')
// JiviScript
```

Veja que com essa flag ele selecionou todas as letras A e não apenas a primeira! 

##### Flag: i

Com  o i informamos que devem ser ignoradas as diferenças entre maiúsculas e minúsculas. Issso significa que /a/ irá buscar por a e A

```javascript
// Procura: Todo PE, Pe, pE e pe
const regexp = /Pe/gi

'Perdeu perdido'.replace(regexp, 'Ba')
// Bardeu Bardido
```

Para adicionar mais flags naquele site que podemos testar nossas expressões, é só clicar no menu ao lado e marcar as opções que desejar.

![](assets/img/Captura de tela de 2020-07-09 23-51-22.png)

Observe abaixo que foram selecionadas todas as letras t seguidas de e, sejam maisculas ou minusculas! :)

#### Character Class

Se colocarmos os caracteres entre colchetes, estamos definindo uma classe. 

/\[ab]/ irá procurar por a ou por b

```javascript
// Procura: Todo a, A, i, I
const regexp = /[ai]/gi

'JavaScript'.replace(regexp, 'u')
// JuvuScrupt
```

Veja que está selecionando abaxio todo t e todo a que tiver, e não a palavra inteira.

![](assets/img/Captura de tela de 2020-07-09 23-59-06.png)

#### Character Class e Especiais

Podemos utilizar caracteres que não são alfanuméricos dentro da classe. Mas fique atento, pois existem diversos casos especiais para os mesmos.

```javascript
// Procura: - ou .
const regexp = /[-.]/g

'111.222-333-44'.replace(regexp, '')
// 11122233344
```

O ponto por exemplo é um caracter especial que vai selecionar TUDO na string!

![](assets/img/Captura de tela de 2020-07-10 00-03-07.png)

Por isso que na classe ele se torna literal.

Outra forma de escapar o ponto é utilizando a barra desta maneira:

```javascript
/\./gi
```

Ou seja, eu não quero que use o que ele faz de especial (que é selecionar tudo), eu quero que ele selecione só mesmo os pontos.

![](assets/img/Captura de tela de 2020-07-10 00-05-42.png)

Você pode utilizar para outros caracteres por exemplo virgulas, colchetes, ponto e virgula...

#### Um ou Outro

Combine caracteres literais com uma classe para buscarmos variações: Ju\[nl]ho busca Julho ou Junho

```javascript
// Procura: B, seguido de r, a, seguido de s ou z, seguido de i, l
cont regexp = /Bra[sz]il/g

'Brasil é com z: Brazil'.replace(regexp, 'Prazer')
// Prazer é com z: Prazer
```

![](assets/img/Captura de tela de 2020-07-10 00-21-57.png)

#### De A à Z

O traço - dentro de \[ ] pode servir para definirmos um alcance. \[A-Z] irá buscar os caracteres de A à Z. \[0-9] busca de 0 à 9. 

**A tabela UNICODE é utilizada como referência para definir os caracteres dentro do alcance.**

```javascript
// Busca por itens de a à z
const regexp = /[a-z]/g
'JavaScript é a linguagem.'.replace(regexp, '0')
// J000S00000 é 0 000000000.

// Busca por itens de a à z e A à Z
const regexp = /[a-zA-Z]/g
'JavaScript é a linguagem.'.replace(regexp, '1')
// 1111111111 é 1 111111111.

// Busca por números de 0 à 9
const regexpNumero = /[0-9]/g
'123.333.333-33'.replace(regexpNumero 'X')
// XXX.XXX.XXX-XX
```

![](assets/img/Captura de tela de 2020-07-10 00-29-06.png)

#### Negar

Utilizando o acento circunflexo podemos negar caracteres. Ou seja, pegue tudo que não seja \[^a]

```javascript
// Procura: tudo que não estiver entre a e z
const regexp = /[^a-z]/g

'Brasil é com z: Brazil'.replace(regexp, 'P')
// Prasil p com z: Prazil
```

![](assets/img/Captura de tela de 2020-07-10 00-35-41.png)

#### Ponto

O ponto . irá selecionar qualquer caracter, menos quebras de linha

```javascript
// Procura todos os caracteres, menos quebras de linha
const regexp = /./g

'JavaScript é a linguagem.'.replace(regexp, '0')
// 000000000000000000000000
```

#### Escapar especiais

Caracteres especiais como o ponto . pode ser escapados utilizando a barra \ 

Assim este não terá mais a sua função especial e será tratado como literal. Lista de caracteres especiais:

+*?^$.\[]{}()|/

```javascript
// Procura todos os pontos
const regexp = /\./g
const regexpAlternativa = /[.]/g

'999.222.222.11'.replace(regexp, '-')
// 999-222-222-11
```

#### Word

O \w irá selecionar qualquer caracter alfanumérico e o underline. É a mesma coisa que \[A-Za-z0-9_]

```javascript
// Procura todos os alfanuméricos
const regexp = /\w/g

'Guarda-chuva R$ 23,00.'.replace(regexp, '-')
// ------------ -$ --,--.
```

![](assets/img/Captura de tela de 2020-07-10 00-52-29.png)

Também temos o \d que selecionar tudo que for digito

![](assets/img/Captura de tela de 2020-07-10 00-53-41.png)

e o \D que seleciona tudo que NÃO for digito

![](assets/img/Captura de tela de 2020-07-10 00-54-13.png)

O \s seleciona tudo que for espaço, quebra de linha e tab ^-^

![](assets/img/Captura de tela de 2020-07-10 00-56-15.png)

e o \S nega tudo que for espaço, tab e quebra de linha.

Tem um macetinho que você consegue selecionar tudo sem ser  com o ponto. Neste caso abaxio eu to selecionando tudo que não for espaço e tudo que for espaço

![](assets/img/Captura de tela de 2020-07-10 00-58-07.png)
